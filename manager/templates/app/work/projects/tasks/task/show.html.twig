{% extends 'app/index.html.twig' %}

{% block title %}Task {{ task.title }}{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item">
        <span><a href="{{ path('home') }}">Home</a></span>
    </li>
    <li class="breadcrumb-item">
        <span><a href="{{ path('work.projects') }}">Projects</a></span>
    </li>

    <li class="breadcrumb-item">
        <span>
            <a href="{{ path('work.projects.project', {id: project.id}) }}">{{ project.name }}</a>
        </span>
    </li>

    <li class="breadcrumb-item">
        <span>
            <a href="{{ path('work.projects.project.tasks', {id: project.id}) }}">Tasks</a>
        </span>
    </li>

    <li class="breadcrumb-item active"><span>{{ task.title }}</span></li>
{% endblock %}

{% block content %}
    <h3>{{ task.title }}</h3>
    <div class="actions mt-3">
        <a href="{{ path('work.projects.tasks.assign', {id: project.id}) }}" class="btn btn-info text-white">Assign</a>
    </div>
    <div class="row mt-3">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">Task</div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered mb-0">
                            <tr>
                                <th>Id</th>
                                <td colspan="3">{{ task.id }}</td>
                            </tr>
                            <tr>
                                <th>Create date</th>
                                <td>{{ task.date|date('d-m-Y H:i:s') }}</td>
                                <th>Plan date</th>
                                <td>{{ task.planDate|date('d-m-Y') }}</td>
                            </tr>
                            <tr>
                                <th>Type</th>
                                <td>
                                    {{ form_start(forms.typeForm) }}
                                    {{ form_widget(forms.typeForm.type) }}
                                    {{ form_end(forms.typeForm) }}
                                </td>
                                <th>Status</th>
                                <td>
                                    {{ form_start(forms.statusForm) }}
                                    {{ form_widget(forms.statusForm.status) }}
                                    {{ form_end(forms.statusForm) }}
                                </td>
                            </tr>
                            <tr>
                                <th>Priority</th>
                                <td>
                                    {{ form_start(forms.priorityForm) }}
                                    {{ form_widget(forms.priorityForm.priority) }}
                                    {{ form_end(forms.priorityForm) }}
                                </td>
                                <th>Progress</th>
                                <td>
                                    {{ form_start(forms.progressForm) }}
                                    {{ form_widget(forms.progressForm.progress) }}
                                    {{ form_end(forms.progressForm) }}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="mt-3 card p-3">
                {{ task.content }}
            </div>
        </div>
        <div class="col-md-4">Users</div>
    </div>
    <div class="h-25"></div>
{% endblock %}